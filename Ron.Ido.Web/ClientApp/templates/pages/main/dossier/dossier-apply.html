<div data-bind="foreach:blocks">
    <div data-bind="visible:isVisible">
        <cmp-expander params="title:title, templateId:'dossier-apply-block', data:$data, expanded:isExpanded, fixed:false, afterExpand:afterExpand"></cmp-expander>
    </div>
</div>

<script type="text/html" id="dossier-apply-block">
    <div style="padding-left:20px;" data-bind="foreach:fields">
        <div data-bind="template:{nodes:templateNodes, data:$data}, visible:visible"></div>
    </div>
    <div style="padding-left:20px;" data-bind="foreach:blocks">
        <div data-bind="visible:isVisible">
            <cmp-expander params="title:title, templateId:'dossier-apply-block', data:$data, expanded:isExpanded, fixed:false, afterExpand:afterExpand"></cmp-expander>
        </div>
    </div>
</script>
